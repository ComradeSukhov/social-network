# VkClone
Это веб-приложение задумано, как копия ВК, цель которого в итоге повторить функционал социальной сети на Rails, не копируя графический дизайн и добавив собственные улучшения

Актуальная версия *(ветка master)* доступна на Heroku: [VkClone](https://vk-clone-master-branch.herokuapp.com)

Если вы захотите посмотреть более подробную историю коммитов, то переключитесь на ветку dev, так как слияние веток dev и master не производится (на мастере находятся исключительно релизы)


# Оглавление
- [Технические детали](#технические-детали)
	- [Использованные инструменты](#использованные-инструменты)
	- [Запуск приложения](#запуск-приложения)
	- [Тестирование](#тестирование)
	- [Константы](#константы)
- [Реализованный функционал](#реализованный-функционал)
	- [Базовые возможности](#базовые-возможности)
	- [Страница пользователя](#страница-пользователя)
	- [Посты](#посты)
	- [Комментарии](#комментарии)
- [Известные баги](#известные-баги)

---
# Технические детали
## Использованные инструменты
* Ruby v2.7.1
* Rails v6.0.x
* StimulusJS v1.1.1
* HAML v5.1.2
* Bulma CSS Framework v0.9.0
* Postgresql v12.4
* Docker + docker-compose

## Запуск приложения
Для запуска приложения используйте команду ```docker-compose up```
Никакие дополнительные действия не требуются

## Тестирование
### Для написания тестов использовались:
* RSpec-rails 4.0.x
* Factory_bot-rails 6.0.x
* Faker 2.13
* Shoulda-matcher 4.4.x

### Запуск тестов:
Для запуска тестов используйте команду ```rspec spec```

После первого запуска, вы сможете посмотреть подробную статистику о том, насколько приложение покрыто тестами, открыв ```/coverage/index.html```

## Константы
Все используемые константы расположены в ```/config/initializers/constants.rb``` и могут быть изменены

---
# Реализованный функционал


## Базовые возможности
- [x] [Регистрация пользователей](#регистрация-пользователей)
- [x] [Навигация по страницам в боковом меню](#боковое-меню-навигации)

### Регистрация пользователей
Система аутентификации написана с помощью гема [devise](https://rubygems.org/gems/devise). Использовались следующие модули:

* :database_authenticatable
* :registerable
* :recoverable
* :rememberable
* :validatable

### Боковое меню навигации
Боковое меню содержит 2 ссылки
1. Ссылка на страницу пользователя
2. Ссылка на страницу со всеми зарегистрированными пользователями: с неё можно перейти на страницу любого другого пользователя

---
## Страница пользователя
- [x] [Личная стена](#стена)
- [x] [Форма для постов](#форма-для-постов)

### Стена
Стена - это элемент, который хранит в себе все посты, когда-либо оставленные на странице связанного с ним пользователя.
Каждый пользователь имеет свою собственную стену

### Форма для постов
На странице каждого пользователя также отображается форма ввода, используемая для создания записей на стене

---
## Посты
- [x] [Постить можно и на своей, и на чужой стене](#постинг)

### Постинг
Вы можете оставлять записи на стене любого пользователя, а не только на своей. При этом ваше имя, отобразвшись в посте, будет интерактивно и будет вести на вашу страницу

---
## Комментарии
- [x] [Комментирование постов](#комментирование-постов)
- [x] [Ветки комментариев](#ветки-комментариев)
- [x] [Удаление комментариев](#удаление-комментариев)

### Комментирование постов
Вы можете оставить свой комментарий под любом постом - для этого нужно перейти на его страницу, нажав на значок комментария в левом нижнем углу выбранного поста. Около значка будет отображен счётчик комментариев, если их количество превышает 0

### Ветки комментариев
Вы также можете отвечать на комментарии - просто нажмите кнопки "reply" под любым из них. Технически, ветки комментариев могут быть бесконечны по глубине. По этой причине выставлен ограничитель, который задаёт, сколько комментариев из одной ветки может быть отображено на одной странице - остальные переносятся на отдельную страницу

Значение ограничителя выставляется константой PAGE_NESTING_DEPTH_LIMIT_PER_THREAD. Если вы хотите изменить её значение, смотрите раздел [Константы](#константы)

### Удаление комментариев
Вы можете удалять свои комментарии. При удалении комментарий не пропадает из ветки. Его содержимое заменяется на [deleted], а связь с вашим аккаутном разрывается

Для удаления нажмите на соответствующий значок в правом верхнем углу выбранного комментария

---
# Известные баги
* Пока не обнаружено, однако
